Application Setup
===============

> Flask Framework 튜토리얼 애플리케이션 셋업에 관련된 문서입니다.
> 자세한 사항은 [여기](https://flask.palletsprojects.com/en/1.1.x/tutorial/factory/)를 참고하세요.

Contents
-----------

1. The Application Factory
2. Run The Application

플라스크 어플리케이션은 "Flask" 클래스의 인스턴스입니다. 이 클래스는 , URL, 설정 같은 애플리케이션의 모든 것을 등록할 수 있습니다. 제일 간결하게 Flask 애플리케이션을 만드는 방법은 이전 장에서 작성했던 "Hello World" 예제처럼 글로벌한 플라스크 인스턴스를 직접 만드는 방법이 있습니다. 우리는 플라스크 인스턴스를 전역적으로 생성하는 대안으로, 함수 안에 그 인스턴스를 생성할 것입니다. 이러한 함수를 "application-factory"라고 합니다. 설정, 등록 같은 애플리케이션이 필요한 모든 설정은 함수 내에서 발생하며, 그것을 반환할 것입니다.


## The Application Factory

이제 코딩할 시간입니다! "flaskr" 디렉토리를 만들어 봅시다.

```bash
# 현재 위치, flask-tutorial 절대 경로가 나와야 합니다.
$ pwd
/Users/a1101320/Workspace/flask-tutorial

# flaskr 디렉토리 생성
$ mkdir flaskr
```

그기고 그 곳에 "__init__.py"를 만들어주세요. 이 파일은 2가지 의미가 있습니다. 이것은 애플리케이션 팩토리를 담고 있으며, flaskr 디렉토리가 패키지로 취급되어야 함을 알려줍니다. 코드는 다음과 같습니다.

flask_tutorial/flaskr/__init__.py
```python
import os

from flask import Flask


def create_app(test_config=None):
    # create and configure the app
    app = Flask(__name__, instance_relative_config=True)
    app.config.from_mapping(
        SECRET_KEY='dev',
        DATABASE=os.path.join(app.instance_path, 'flaskr.sqlite'),
    )

    if test_config is None:
        # load the instance config, if it exists, when not testing
        app.config.from_pyfile('config.py', silent=True)
    else:
        # load the test config if passed in
        app.config.from_mapping(test_config)

    # ensure the instance folder exists
    try:
        os.makedirs(app.instance_path)
    except OSError:
        pass

    # a simple page that says hello
    @app.route('/hello')
    def hello():
        return 'Hello, World!'

    return app
```

## Run The Application

